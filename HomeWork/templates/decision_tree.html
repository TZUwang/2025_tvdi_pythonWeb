{% extends "base.html" %}

{% block content %}
<div class="container my-5">
    <h1 class="text-center mb-4 animate-fade-in">{{ algorithm }}</h1>
    
    <!-- 決策樹介紹 -->
    <div class="tree-card mb-4">
        <div class="tree-info">
            <h5 class="card-title">什麼是決策樹？</h5>
            <p class="card-text">
                決策樹是一種監督式學習算法，它通過一系列問題將數據分成不同的類別。就像一個流程圖，從根節點開始，
                根據特徵值的判斷條件，數據沿著樹的分支向下流動，最終到達葉節點得到預測結果。這種方法模仿人類的
                決策過程，非常直觀且容易理解，特別適合處理分類和回歸問題。決策樹的每個內部節點代表一個特徵測試，
                每個分支代表測試的可能結果，每個葉節點代表預測的類別。
            </p>
        </div>
    </div>

    <!-- 應用場景 -->
    <div class="tree-card mb-4">
        <div class="card-header">
            <h5 class="mb-0">
                <button class="btn btn-link" type="button" data-toggle="applications" aria-expanded="false">
                    顯示應用場景 <i class="fas fa-chevron-right"></i>
                </button>
            </h5>
        </div>
        <div class="applications-list">
            <div class="card-body">
                <ul class="list-group list-group-flush">
                    {% for app in applications %}
                    <li class="list-group-item feature-item">
                        <i class="fas fa-check-circle"></i>
                        {{ app }}
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>

    <!-- 優點列表 -->
    <div class="tree-card mb-4">
        <div class="card-header">
            <h5 class="mb-0">主要優點</h5>
        </div>
        <div class="card-body">
            <ul class="list-group list-group-flush">
                {% for pro in pros %}
                <li class="list-group-item feature-item">
                    <i class="fas fa-star"></i>
                    {{ pro }}
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <!-- 分類器類型 -->
    <div class="tree-card mb-4">
        <div class="card-body text-center">
            {% if is_supervised %}
            <div class="supervised-badge">
                <i class="fas fa-graduation-cap"></i>
                監督式學習算法
            </div>
            <p class="mt-3">這是一個監督式學習算法，需要標記過的訓練數據來學習模型。</p>
            {% else %}
            <div class="supervised-badge" style="background: var(--warning-color)">
                <i class="fas fa-robot"></i>
                非監督式學習算法
            </div>
            <p class="mt-3">這是一個非監督式學習算法，可以從未標記的數據中發現模式。</p>
            {% endif %}
        </div>
    </div>

    <!-- 特徵數量表單 -->
    <div class="tree-card">
        <div class="card-body">
            <h5 class="card-title">設定特徵數量</h5>
            <form method="POST" class="features-form needs-validation" id="featuresForm" novalidate>
                <div class="form-group">
                    <label for="features">請輸入特徵數量：</label>
                    <input type="number" class="form-control" id="features" name="features" 
                           min="1" required placeholder="例如：4"
                           data-tooltip="輸入要使用的特徵數量">
                    <div class="invalid-feedback">
                        請輸入有效的特徵數量（至少1個）
                    </div>
                </div>
                <button type="submit" class="btn btn-submit mt-3">
                    <i class="fas fa-check"></i>
                    確認設定
                </button>
            </form>
            {% if features %}
            <div class="alert alert-success mt-3 animate-fade-in">
                <i class="fas fa-info-circle"></i>
                您設定的特徵數量為：{{ features }}
            </div>
            {% endif %}
        </div>
    </div>
</div>

<!-- 引入 Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<!-- 引入自定義 CSS 和 JavaScript -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/decision_tree.css') }}">
<script src="{{ url_for('static', filename='js/decision_tree.js') }}"></script>
{% endblock %}